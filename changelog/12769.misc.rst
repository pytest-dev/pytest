Fix typos discovered by codespell and add codespell to pre-commit hooks.
